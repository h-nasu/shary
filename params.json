{"name":"Shary","tagline":"open source file sharing platform. (nodejs, mongodb, and gridfs)","body":"# Shary\r\n\r\n__Shary__ is an open source file sharing platform created with __Sailsjs(Nodejs)__ and __Mongodb__, using __GridFS__ for file storing and streaming.\r\n\r\n* Web Server: __Nginx__\r\n* Web Programming Language: __Nodejs__\r\n* Nodejs Framework: __Sailsjs__\r\n* Database: __Mongodb__\r\n* Frontend Javascript Framework: __Angularjs__\r\n* Frontend Styling: __Bootstrap__\r\n\r\n__Live Demo:__ http://sharydemo-hnasu.rhcloud.com/<br>\r\nusername: admin<br>\r\npassword: admin135\r\n\r\n## Set Up\r\n\r\nWill Need to install _Nodejs_ and _Mongodb_ in your environment.<br>\r\nClone or download source code from repository and install all the dependencies.\r\n```\r\nnpm install\r\n```\r\nCreate intial user inside _Mongodb_ (can set up db user as you wish)...<br>\r\nInitial user account can be anything but here is just an example.\r\n```javascript\r\nuse yourDatabase;\r\n\r\ndb.user.insert(\r\n  { \r\n    \"_id\" : ObjectId(\"54b9f5ce2df9147127007652\"), \r\n    \"username\" : \"admin\", \r\n    \"password\" : \"$2a$10$VYm8D8gpt3lVKwtD7VHxL.PkFpWHBpJuISv4gLMRAFffp/mZ1YmlW\", \r\n    \"email\" : \"admin@admin.com\", \r\n    \"admin\" : true, \r\n    \"spaceLimit\" : 2, \r\n    \"totalUsage\" : 0, \r\n    \"user_id\" : \"54b9f5ce2df9147127007652\" \r\n  }\r\n);\r\n\r\n// This will create...\r\n{\r\n  username: 'admin',\r\n  password: 'admin'\r\n}\r\n```\r\nBelow is just an example of creating user for mongodb.\r\n```javascript\r\ndb.createUser(\r\n   {\r\n     user: \"username\",\r\n     pwd: \"password\",\r\n     roles: [{role:\"readWrite\", db:\"database\"}]\r\n   }\r\n);\r\n```\r\nBelow are some settings you can change depending on your environment.\r\n```javascript\r\n// config/connections.js\r\n// mongodb config\r\nsomeMongodbServer: {\r\n  adapter: 'sails-mongo',\r\n  host: 'localhost',\r\n  port: 27017,\r\n  user: '',\r\n  password: '',\r\n  database: ''\r\n},\r\n\r\n// config/session.js\r\n// use mongodb config for session storage\r\nadapter: 'mongo',\r\nhost: 'localhost',\r\nport: 27017,\r\ndb: '',\r\ncollection: 'sessions',\r\nusername: '',\r\npassword: '',\r\nauto_reconnect: true,\r\n\r\n// config/local.js\r\n// If need, running port can be changed from config/local.js.\r\nport: some_port#\r\n\r\n// confog/models.js\r\n// When running the application for first time, please set the migration mode to 2 (alter).\r\n// 2(alter) will create needed collections in mongodb for running the sails application.\r\n// And change the migration to safe after...\r\nmigrate: 'safe'\r\n```\r\n\r\nIf you using _Nginx_ or _Apache_ for proxy, max body limit for upload file need to be set.\r\n```\r\n# This is an example setting for Nginx\r\n# /etc/nginx/nginx.conf\r\n\r\nhttp {\r\n  ...\r\n  # Set the max body size limit\r\n  # 1M -> 1 megabyte\r\n  # 0 -> do not set the limit\r\n  client_max_body_size 0;\r\n  ...\r\n}\r\n```\r\nStart the application from terminal.\r\n```\r\ncd shary\r\nsails lift\r\n```\r\nYou can use _foreverjs_ and _nodemon_ to keep the application running.<br>\r\nMake sure you create __.foreverignore__ in the root directory.\r\n```\r\ncd shary\r\nvi .foreverignore\r\n\r\n# insert below to .foreverignore\r\n**/.tmp/**\r\n\r\n# stop the application and re-run it with below command\r\nforever -w -c nodemon app.js --exitcrash\r\n```\r\n\r\nYou can access your site with...<br>\r\nhttp://localhost:port/\r\n","google":"UA-42032202-4","note":"Don't delete this file! It's used internally to help with page regeneration."}